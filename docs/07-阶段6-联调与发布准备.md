# 阶段 6：联调、文档与发布准备（M6）

## 1. 阶段目标与范围

- **目标**：完成从「配置任务」到「名单生成」到「发私信」的端到端联调，更新方案文档与 README，定稿风险与合规说明，并可选地产出本地可执行包或安装器。
- **范围**：联调测试、文档更新、合规定稿、打包与发布准备；不新增业务功能。
- **前置依赖**：M0～M5 均已完成。

## 2. 里程碑明细

| 编号 | 里程碑 | 交付物/验收 | 细化说明 |
|------|--------|------------|----------|
| M6.1 | 端到端联调 | 从配置任务到名单生成到发私信，全流程在真实环境跑通一次 | 使用真实抖音账号（建议小号）：创建任务并配置关键词与规则 → 启动采集 → 等待「已采集」→ 执行筛选得到待触达名单 → 以人工确认或全自动方式发送若干条私信。全程无阻塞性错误；数据在 DB 与界面中一致。 |
| M6.2 | 方案文档与 README 更新 | 将实际技术选型、接口约定、配置项写入方案文档；README 安装与运行说明 | 根据实现结果更新总览与各阶段文档：最终技术栈（Playwright/PyQt 等）、目录结构、配置项列表与示例、API 或模块接口摘要。README：环境要求、安装步骤、首次运行（含登录与配置）、常见问题。 |
| M6.3 | 风险与合规说明定稿 | 文档：账号安全、平台规则、隐私与建议用法 | 独立章节或文档：抖音平台使用规范与违规风险；账号封禁与限流风险；用户隐私与数据留存建议（如不长期保存评论原文、敏感信息脱敏）；建议用法（控制频率、人工复核、勿用于骚扰）。 |
| M6.4 | 发布与打包（可选） | 本地可执行包或安装器；不包含密钥与敏感信息 | 若采用 Python+PyQt：PyInstaller 或类似打成单 exe 或目录。若 Electron：electron-builder 打成安装包。确保 .env、cookies、API Key 等不被打包；通过「首次运行配置」或设置页由用户自行填写。 |

## 3. 技术要点与实现建议

- **联调环境**：与生产一致使用抖音 PC 网页版；建议使用测试小号，避免主号限流或封禁。
- **文档位置**：方案文档以 `docs/00-总览与索引.md` 及 01～07 阶段文档为主；README 位于项目根目录；合规说明可合并到 `docs/09-风险与合规.md` 或 README 的「免责与合规」小节。
- **打包**：若依赖浏览器，需说明用户本机需安装 Chromium 或与 Playwright 兼容的浏览器；或打包时携带 Playwright 依赖的浏览器（体积会增大）。

## 4. 验收标准

- [ ] 端到端流程在真实环境下完整跑通，且结果可核查（DB 与界面）。
- [ ] 新成员能仅凭 README 与文档完成安装、配置与一次完整运行。
- [ ] 风险与合规说明已审阅并定稿；打包产物（若有）不包含敏感信息且能正常启动。

## 5. 产出物清单

- 联调测试记录（可选）；修复的 bug 与配置修正。
- 更新后的 `docs/` 与 README；风险与合规定稿文档。
- 可执行包或安装器（可选）；发布检查清单（敏感信息、依赖、运行说明）。

## 6. 与后续阶段的关系

- M6 为当前规划的最后阶段；完成后可进入迭代维护（如多账号、更多筛选条件、H5 支持等），并持续更新文档。
